<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta name="renderer" content="webkit"/>
    <meta property="qc:admins" content="15317273575564615446375"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="alexaVerifyID" content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ"/>
    <meta name="apple-itunes-app" content="app-id=958101793, app-argument=">
    <title>javascript - 微信公众平台, config:invalid signature一直爆这个错误，求教如何解决？ - SegmentFault</title>


    <meta name="description" content="然后哦 用这个校验和输出的是一致的也就是说 签名应该没问题吧 但是为什么手机上会显示无效呢 那个环节又出错了"/>

    <meta name="keywords"
          content="java javascript html"/>

    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="SegmentFault"/>
    <link rel="shortcut icon" href="/static/images/favicon.ico"/>
    <link rel="apple-touch-icon" href="/static/images/touch-icon.png">

    <meta name="msapplication-TileColor" content="#009a61"/>
    <meta name="msapplication-square150x150logo" content="/static/images/touch-icon.png"/>

    <meta name="userId" value="" id="SFUserId"/>
    <meta name="userRank" value="" id="SFUserRank"/>

    <link rel="alternate" type="application/atom+xml" title="SegmentFault 最新问题" href="/feeds/questions">
    <link rel="alternate" type="application/atom+xml" title="SegmentFault 最新文章" href="/feeds/blogs">


    <link rel="stylesheet" href="/static/css/global.css"/>
    <link rel="stylesheet" href="/static/css/qa_all.css"/>
    <link rel="stylesheet" href="/static/css/responsive.css"/>


    <!--[if lt IE 9]>
    <link rel="stylesheet" href="/static/css/ie.css"/>
    <script src="/static/js/html5shiv.js"></script>
    <script src="/static/js/respond.js"></script>
    <![endif]-->

    <script src="/static/js/debug.js"></script>

</head>

<body class="qa-question">
<!--[if lt IE 9]>
<div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank"
                                                                                                        class="alert-link"
                                                                                                        href="http://browsehappy.com">立即升级</a>
</div>
<![endif]-->


{% include '_header_nav.html' %}

<div class="wrap">

    <div class="post-topheader">
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <ol class="breadcrumb">
                        <li><a href="/questions/newest">问答</a></li>
                        <li><a href="/weixin">微信开放平台问答</a></li>
                        <li class="active">问答详情</li>
                    </ol>

                    <h1 class="h3 title" id="questionTitle" data-id="1010000002520634"><a
                            href="/q/1010000002520634">微信公众平台, config:invalid signature一直爆这个错误，求教如何解决？</a></h1>

                    <div class="author">
                        <a href="/u/xmm" class="mr5"><img class="avatar-24 mr10"
                                                          src="http://sfault-avatar.b0.upaiyun.com/285/315/2853155316-55151c2341e31_big64"
                                                          alt="徐妹妹"><strong>徐妹妹</strong></a>
                        <strong class="text-black mr10">110</strong>
                        2015年01月28日 提问
                        &middot; <a href="/q/1010000002520634/revision">2015年01月29日 更新</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <ul class="widget-action--ver list-unstyled">
                        <li>
                            <button type="button" id="sideFollow" class="btn btn-success btn-sm"
                                    data-id="1010000002520634" data-do="follow" data-type="question"
                                    data-toggle="tooltip" data-placement="right" title="关注后将获得更新提醒">关注
                            </button>
                            <strong>34</strong> 关注
                        </li>
                        <li>
                            <button type="button" id="sideBookmark" class="btn btn-default btn-sm"
                                    data-id="1010000002520634" data-type="question">收藏
                            </button>
                            <strong id="sideBookmarked">7</strong> 收藏，<strong
                                class="no-stress">38.4k</strong> 浏览
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- end .post-topheader -->

    <div class="container mt30">
        <div class="row">
            <div class="col-xs-12 col-md-9 main">
                <article class="widget-question__item">
                    <div class="post-col">
                        <div class="widget-vote">
                            <button type="button"
                                    class="like"
                                    data-id="1010000002520634"
                                    data-type="question"
                                    data-do="like"
                                    data-toggle="tooltip"
                                    data-placement="top"
                                    title="问题对人有帮助，内容完整，我也想知道答案">
                                <span class="sr-only">问题对人有帮助，内容完整，我也想知道答案</span>
                            </button>
                            <span class="count">0</span>
                            <button
                                    type="button"
                                    class="hate"
                                    data-id="1010000002520634"
                                    data-type="question"
                                    data-do="hate"
                                    data-toggle="tooltip"
                                    data-placement="bottom"
                                    title="问题没有实际价值，缺少关键内容，没有改进余地">
                                <span class="sr-only">问题没有实际价值，缺少关键内容，没有改进余地</span>
                            </button>
                        </div>
                        <!-- end .widget-vote -->
                    </div>

                    <div class="post-offset">
                        <div class="question fmt">

                            <p><img data-src="/images/bVkJTt"></p>

                            <p><img data-src="/images/bVkKeu"><br>
                                然后哦 用这个校验和输出的是一致的也就是说 签名应该没问题吧 但是为什么手机上会显示无效呢 那个环节又出错了</p>


                        </div>
                        <ul class="taglist--inline mb20">
                            <li class="tagPopup"><a class="tag" href="/t/java" data-toggle="popover"
                                                    data-placement="top" data-original-title="java"
                                                    data-id="1040000000089449"
                                                    data-img="http://sfault-avatar.b0.upaiyun.com/512/342/51234253-1040000000089449_medium40">java</a>
                            </li>
                            <li class="tagPopup"><a class="tag" href="/t/javascript" data-toggle="popover"
                                                    data-placement="top" data-original-title="javascript"
                                                    data-id="1040000000089436"
                                                    data-img="http://sfault-avatar.b0.upaiyun.com/195/823/1958237468-1040000000089436_medium40">javascript</a>
                            </li>
                            <li class="tagPopup"><a class="tag" href="/t/html" data-toggle="popover"
                                                    data-placement="top" data-original-title="html"
                                                    data-id="1040000000089571"
                                                    data-img="http://sfault-avatar.b0.upaiyun.com/418/365/4183652815-1040000000089571_medium40">html</a>
                            </li>
                        </ul>


                        <div class="post-opt">
                            <ul class="list-inline mb0">
                                <li><a href="/q/1010000002520634">链接</a></li>

                                <li><a href="javascript:void(0);" class="comments" data-id="1010000002520634"
                                       data-target="#comment-1010000002520634">1
                                    评论</a></li>


                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle"
                                       data-toggle="dropdown">更多<b class="caret"></b></a>
                                    <ul class="dropdown-menu dropdown-menu-left">


                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="widget-comments hidden" id="comment-1010000002520634" data-id="1010000002520634">
                            <div class="widget-comments__form row">

                                <div class="col-md-12">
                                    请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                                </div>

                            </div><!-- /.widget-comments__form -->
                        </div><!-- /.widget-comments -->


                    </div>
                    <!-- end .post-offset -->
                </article>

                <div class="widget-answers">
                    <div class="btn-group pull-right" role="group">
                        <a href="/q/1010000002520634#answers-title" id="sortby-rank"
                           class="btn btn-default btn-xs active">默认排序</a>
                        <a href="?sort=created#answers-title" id="sortby-created"
                           class="btn btn-default btn-xs">时间排序</a>
                    </div>

                    <h2 class="title h4 mt30 mb20 post-title" id="answers-title">28 个回答</h2>


                    <article
                            class="clearfix widget-answers__item accepted"
                            id="a-1020000002531131">
                        <div class="post-col">
                            <div class="widget-vote">
                                <button type="button"
                                        class="like"
                                        data-id="1020000002531131"
                                        data-type="answer"
                                        data-do="like"
                                        data-toggle="tooltip"
                                        data-placement="top"
                                        title="答案对人有帮助，有参考价值">
                                    <span class="sr-only">答案对人有帮助，有参考价值</span>
                                </button>
                                <span class="count">4</span>
                                <button type="button"
                                        class="hate"
                                        data-id="1020000002531131"
                                        data-type="answer"
                                        data-do="hate"
                                        data-toggle="tooltip"
                                        data-placement="bottom"
                                        title="答案没帮助，是错误的答案，答非所问">
                                    <span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
                                </button>

                            </div>
                            <div class="accepted-flag">采纳</div>
                        </div>

                        <div class="post-offset ">
                            <a class="" href="/u/suninformation">
                                <img class="avatar-24"
                                     src="http://sfault-avatar.b0.upaiyun.com/407/819/4078192333-54cfc07039e5f_big64"
                                     alt=""/>
                            </a>
                            <strong><a href="/u/suninformation" class="mr5">有理想的鱼</a> 82
                            </strong>

        <span class="ml10 text-muted">
            2015年02月03日 回答
                    </span>

                            <div class="answer fmt mt10">

                                <p>出现问题的原因是参与签名的URL地址不正确，需要动态获取<strong>当前页面完整的URL地址</strong>（包括?后面的参数，但不能包含#号），如若URL地址为：<a
                                        rel="nofollow"
                                        href="http://www.xxx.xxx/payment/wxpay/jspay?oid=xxxx&amp;attr=xxxx#wechat">http://www.xxx.xxx/payment/wxpay/jspay?oid=xxxx&amp;attr=xxxx#wechat</a>，那么完整的URL地址应该是<strong>截取#号之前的部份</strong>。为什么会出现#号呢？因为你的URL在被分享到朋友圈等微信系统自动会添加一些参数。
                                </p>

                            </div>


                            <div class="post-opt">
                                <ul class="list-inline mb0">

                                    <li><a href="/q/1010000002520634/a-1020000002531131">链接</a></li>

                                    <li><a href="javascript:void(0);" class="comments" data-id="1020000002531131"
                                           data-target="#comment-1020000002531131">
                                        评论</a></li>

                                    <li class="dropdown">
                                        <a href="javascript:void(0);" class="dropdown-toggle"
                                           data-toggle="dropdown">更多<b
                                                class="caret"></b></a>
                                        <ul class="dropdown-menu dropdown-menu-left">
                                        </ul>
                                    </li>
                                </ul>
                            </div>

                            <div class="widget-comments hidden" id="comment-1020000002531131"
                                 data-id="1020000002531131">
                                <div class="widget-comments__form row">

                                    <div class="col-md-12">
                                        请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                                    </div>

                                </div><!-- /.widget-comments__form -->
                            </div><!-- /.widget-comments -->


                        </div>
                    </article><!-- /article -->


                    <article
                            class="clearfix widget-answers__item"
                            id="a-1020000004353594">
                        <div class="post-col">
                            <div class="widget-vote">
                                <button type="button"
                                        class="like"
                                        data-id="1020000004353594"
                                        data-type="answer"
                                        data-do="like"
                                        data-toggle="tooltip"
                                        data-placement="top"
                                        title="答案对人有帮助，有参考价值">
                                    <span class="sr-only">答案对人有帮助，有参考价值</span>
                                </button>
                                <span class="count">0</span>
                                <button type="button"
                                        class="hate"
                                        data-id="1020000004353594"
                                        data-type="answer"
                                        data-do="hate"
                                        data-toggle="tooltip"
                                        data-placement="bottom"
                                        title="答案没帮助，是错误的答案，答非所问">
                                    <span class="sr-only">答案没帮助，是错误的答案，答非所问</span>
                                </button>

                            </div>
                        </div>

                        <div class="post-offset ">
                            <a class="" href="/u/pader">
                                <img class="avatar-24" src="/static/images/user-64.png" alt=""/>
                            </a>
                            <strong><a href="/u/pader" class="mr5">pader</a> 0
                            </strong>

        <span class="ml10 text-muted">
            3 天前 回答
            &middot; <a href="/q/1010000002520634/a-1020000004353594/revision">3 天前 更新</a>
                    </span>

                            <div class="answer fmt mt10">

                                <p>我今天也碰到了这个问题，各种参数与签名均一致，但就是报签名错误。</p>
                                <p>最后你猜怎么着，最后居然发现是因为页面中有一个嵌套了腾讯视频的 iframe ，因为 js 对 iframe 大小进行调整时改变了 src 值导致 iframe
                                    上一个请求被取消并再次加载，然后就导致微信 js 接口报 invalid signature 的错误了。</p>
                                <p>最后去掉了 iframe 自带的 src 属性，等 js 调整好大小后一次性加载，就解决了。</p>
                                <p>奇葩吧，一个 iframe 里嵌套的视频，看上去毫不相关的东西居然影响了微信的 js 接口的签名验证。</p>

                            </div>


                            <div class="post-opt">
                                <ul class="list-inline mb0">

                                    <li><a href="/q/1010000002520634/a-1020000004353594">链接</a></li>

                                    <li><a href="javascript:void(0);" class="comments" data-id="1020000004353594"
                                           data-target="#comment-1020000004353594">
                                        评论</a></li>

                                    <li class="dropdown">
                                        <a href="javascript:void(0);" class="dropdown-toggle"
                                           data-toggle="dropdown">更多<b
                                                class="caret"></b></a>
                                        <ul class="dropdown-menu dropdown-menu-left">
                                        </ul>
                                    </li>
                                </ul>
                            </div>

                            <div class="widget-comments hidden" id="comment-1020000004353594"
                                 data-id="1020000004353594">
                                <div class="widget-comments__form row">

                                    <div class="col-md-12">
                                        请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                                    </div>

                                </div><!-- /.widget-comments__form -->
                            </div><!-- /.widget-comments -->


                        </div>
                    </article><!-- /article -->


                    <div class="text-center">

                    </div>
                </div><!-- /.widget-answers -->


                <h4>撰写答案</h4>
                <input type="hidden" id="draftId" value="">
                <input type="hidden" value="1010000002520634" id="questionId">
                <form action="/question/1010000002520634/answers/add" method="post" class="editor-wrap">
                    <div class="editor" id="questionText">
                    <textarea id="answerEditor" name="text" class="form-control" rows="4"
                              placeholder="撰写答案..."></textarea>
                    </div>
                    <div id="answerSubmit" class="hide mt15 clearfix">
                        <div class="checkbox pull-left">
                            <label><input type="checkbox" class="" id="shareToWeibo">
                                同步到新浪微博</label>
                        </div>
                        <div class="pull-right">
                    <span id="editorStatus" class="hidden text-muted">

                    </span>
                            <a id="dropIt" href="javascript:void(0);" class="mr10 hidden">
                                [舍弃]
                            </a>
                            <button type="submit" id="answerIt" data-id="1010000002520634"
                                    class="btn btn-lg btn-primary ml20">提交回答
                            </button>
                        </div>
                    </div>
                </form>


            </div>
            <!-- /.main -->


            <div class="col-xs-12 col-md-3 side">
                <div class="sfad-sidebar">
                    <div class="sfad-item" data-adn="ad-981179" id="adid-981179">
                        <button class="close" type="button" aria-hidden="true">&times;</button>
                    </div>

                </div>


                <div class="widget-box no-border">
                    <h2 class="h4 widget-box__title">相似问题</h2>
                    <ul class="widget-links list-unstyled">
                        <li class="widget-links__item"><a title="用JavaScript SDK 提示 请求报文格式错误。(400：token not specified)"
                                                          href="/q/1010000000537698">用JavaScript SDK 提示
                            请求报文格式错误。(400：token not specified)</a>
                            <small class="text-muted">
                                2 回答
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="运行高德地图时报一下错误？"
                                                          href="/q/1010000002909080">运行高德地图时报一下错误？</a>
                        </li>
                        <li class="widget-links__item"><a title="javascript  函数的参数是对象，动态生成错误"
                                                          href="/q/1010000002959956">javascript 函数的参数是对象，动态生成错误</a>
                            <small class="text-muted">
                                1 回答
                                | 已解决
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="angular.js无法正常注入" href="/q/1010000000631847">angular.js无法正常注入</a>
                            <small class="text-muted">
                                3 回答
                                | 已解决
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="请教一个Require.js 的问题，模块依赖没有处理好"
                                                          href="/q/1010000002596040">请教一个Require.js 的问题，模块依赖没有处理好</a>
                            <small class="text-muted">
                                2 回答
                                | 已解决
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="java代码上传图片到七牛服务器失败" href="/q/1010000000701542">java代码上传图片到七牛服务器失败</a>
                            <small class="text-muted">
                                1 回答
                                | 已解决
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="sf2中 javascript是 标签" href="/q/1010000000319718">sf2中
                            javascript是 标签</a>
                            <small class="text-muted">
                                1 回答
                                | 已解决
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="微信公众号 JS SDK config 签名错误，求助"
                                                          href="/q/1010000002732136">微信公众号 JS SDK config 签名错误，求助</a>
                            <small class="text-muted">
                                5 回答
                                | 已解决
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="启动不了 tomcat" href="/q/1010000002686386">启动不了 tomcat</a>
                            <small class="text-muted">
                                4 回答
                            </small>
                        </li>
                        <li class="widget-links__item"><a title="java web 编写servlet问题" href="/q/1010000003848504">java
                            web 编写servlet问题</a>
                            <small class="text-muted">
                                1 回答
                            </small>
                        </li>
                    </ul>
                </div>
                <div class="widget-share__full" data-text="微信公众平台, config:invalid signature一直爆这个错误，求教如何解决？"
                     data-url="http://segmentfault.com/q/1010000002520634" data-shorturl="http://sfau.lt/bNkJTy"></div>


            </div><!-- /.side -->

        </div>
    </div>
</div>

<div id="shareToWeiboModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">分享</h4>
            </div>
            <div class="modal-body">
                <p class="sfModal-content">
                    分享到微博？
                </p>
            </div>
            <div class="modal-footer ">
                <button type="button" class="btn btn-default dont-likeweibo" data-dismiss="modal">取消并且不再弹出</button>
                <a href="" id="shareLink" class="btn btn-primary done-btn" target="_blank"
                   onclick="$('#shareToWeiboModal').modal('hide')">分享</a>
            </div>
        </div>
    </div>
</div>

<div class="hidden widget-register widget-welcome-question mt20 hidden-xs widget-welcome widget-register-slideUp">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <h2 class="title h4">与我们一起探索更多的未知</h2>
                <p>专业的开发者技术社区，为用户提供多样化的线上知识交流，丰富的线下活动及给力的工作机会</p>
            </div>
            <form action="/api/user/register/fast" method="post">
                <div class="col-sm-5">
                    <div class="form-group mb0">
                        <input type="text" class="form-control" placeholder="邮箱地址" name="mail" required="">
                    </div>
                </div>
                <div class="col-sm-3">
                    <button type="submit" class="btn btn-primary btn-block">加入只需一步</button>
                </div>
                <div class="col-sm-10 mt10 captcha-part" style="display:none;">
                    <div class="row">
                        <div class="col-sm-4 pr0">
                            <input type="text" class="form-control" name="captcha" placeholder="请输入验证码" disabled=""
                                   required="">
                        </div>
                        <div class="col-sm-4 pr0">
                            <a href="javascript:void(0)"><img src="" height="35"></a>
                        </div>
                    </div>
                </div>
            </form>
            <a class="close" href="javascript:void(0);"><span>×</span></a>
        </div>
    </div>
</div>

<div id="delete-modal" class="modal widget-911">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title radio-del question-close-only">关闭<span class="type-911">问题</span>（请谨慎操作）</h4>
                <h4 class="modal-title radio-del question-delete-only">删除<span class="type-911">问题</span>（请谨慎操作）</h4>
                <h4 class="modal-title radio-del answer-delete-only">删除<span class="type-911">回答</span>（请谨慎操作）</h4>
                <h4 class="modal-title radio-del answer-ignore-only">忽略<span class="type-911">回答</span></h4>
            </div>
            <div class="modal-body">
                <p>
                    <strong class="required radio-del question-close-only">关闭理由：</strong>
                    <strong class="required radio-del question-delete-only answer-delete-only">删除理由：</strong>
                    <strong class="required radio-del answer-ignore-only">忽略理由：</strong>
                </p>
                <div id="reportDescription">
                    <div class="radio-del radio all">
                        <label>
                            <input type="radio" name="descRadio" value="推广（招聘、广告、SEO 等）方面的内容"/>
                            推广（招聘、广告、SEO 等）方面的内容
                        </label>
                    </div>
                    <div class="radio-del radio question-close-only">
                        <label>
                            <input type="radio" name="descRadio" value="与已有问题重复">
                            与已有问题重复（请编辑该提问指向已有相同问题）
                        </label>
                    </div>
                    <div class="radio-del radio answer-ignore-only">
                        <label>
                            <input type="radio" name="descRadio" value="答非所问，不符合答题要求">
                            答非所问，不符合答题要求
                        </label>
                    </div>
                    <div class="radio-del radio answer-ignore-only">
                        <label>
                            <input type="radio" name="descRadio" value="宜作评论而非答案">
                            宜作评论而非答案
                        </label>
                    </div>
                    <div class="radio-del radio all">
                        <label>
                            <input type="radio" name="descRadio" value="带有人身攻击、辱骂、仇恨等违反条款的内容">
                            带有人身攻击、辱骂、仇恨等违反条款的内容
                        </label>
                    </div>
                    <div class="radio-del radio question-close-only">
                        <label>
                            <input type="radio" name="descRadio" value="无法获得确切结果的问题">
                            无法获得确切结果的问题
                        </label>
                    </div>
                    <div class="radio-del radio question-close-only">
                        <label>
                            <input type="radio" name="descRadio" value="非开发直接相关的问题">
                            非开发直接相关的问题
                        </label>
                    </div>
                    <div class="radio-del radio question-close-only question-delete-only">
                        <label>
                            <input type="radio" name="descRadio" value="非技术提问的讨论型问题">
                            非技术提问的讨论型问题
                        </label>
                    </div>

                    <div class="radio-del radio all btwRadio">
                        <label>
                            <input type="radio" name="descRadio" value="">
                            其他原因（请补充说明）
                        </label>
                    </div>
                    <div class="btw" style="display:none;">
                        <p class="mt20"><strong>补充说明：</strong></p>
                        <textarea class="form-control" rows="3" name="description" id="deleteDesc"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-danger" id="submit-delete">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal widget-911" id="911">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">举报<span data-model="type"></span></h4>
            </div>
            <div class="modal-body">
                <form id="reportForm">
                    <!-- 后台返回信息 -->
                    <p class="alert alert-warning" data-model="returnMsg"></p>
                    <div data-role="base">
                        <p>
                            <strong class="required">我要举报该<span data-model="type"></span>，理由是：</strong>
                        </p>
                        <ul class="list-unstyled" data-model="list"></ul>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default pull-left" type="button" data-role="back" style="display:none">返回重选
                </button>
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
                <button class="btn btn-primary" data-role="submit" type="button">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<footer id="footer">
    <div class="container">
        <div class="row hidden-xs">
            <dl class="col-sm-2 site-link">
                <dt>网站相关</dt>
                <dd><a href="/about">关于我们</a></dd>
                <dd><a href="/tos">服务条款</a></dd>
                <dd><a href="/faq">帮助中心</a></dd>
                <dd><a href="/repu">声望与权限</a></dd>
                <dd><a href="/markdown">编辑器语法</a></dd>
                <dd><a href="//weekly.segmentfault.com/">每周精选</a></dd>
                <dd><a href="/app">App 下载</a></dd>
            </dl>
            <dl class="col-sm-2 site-link">
                <dt>联系合作</dt>
                <dd><a href="/contact">联系我们</a></dd>
                <dd><a href="/hiring">加入我们</a></dd>
                <dd><a href="/link">合作伙伴</a></dd>
                <dd><a href="/press">媒体报道</a></dd>
                <dd><a href="/0x">建议反馈</a></dd>
                <dd><a href="http://pan.baidu.com/share/link?shareid=604288&uk=839272106" target="_blank">Logo 下载</a>
                </dd>
            </dl>
            <dl class="col-sm-2 site-link">
                <dt>常用链接</dt>
                <dd>
                    <a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo"
                       target="_blank">笔记插件: Chrome</a></dd>
                <dd><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" target="_blank">笔记插件:
                    Firefox</a></dd>
                <dd><a href="//mirrors.segmentfault.com/" target="_blank">文档镜像</a></dd>
                <dd>订阅：<a href="/feeds">问答</a> / <a href="/feeds/blogs">文章</a></dd>
                <dd><a href="/hackathon">黑客马拉松</a></dd>
                <dd><a href="/giveaways" target="_blank">开发者福利</a></dd>
                <!--             <dd><a href="http://zs.segmentfault.com/" target="_blank">一起涨姿势</a></dd> -->
                <dd><a href="https://namebeta.com/" target="_blank">域名搜索注册</a></dd>
            </dl>
            <dl class="col-sm-2 site-link">
                <dt>关注我们</dt>
                <dd><a href="https://github.com/SegmentFault" target="_blank">GitHub</a></dd>
                <dd><a href="https://twitter.com/segment_fault" target="_blank">Twitter</a></dd>
                <!-- <dd><a href="http://page.renren.com/699146294" target="_blank">人人网</a></dd> -->
                <dd><a href="https://www.linkedin.com/company/segmentfault" target="_blank">LinkedIn</a></dd>
                <dd><a href="http://weibo.com/segmentfault" target="_blank">新浪微博</a></dd>
                <dd><a href="http://i.youku.com/segmentfault" target="_blank">优酷主页</a></dd>
                <dd><a href="/blog/segmentfault" target="_blank">开发日志</a></dd>
            </dl>
            <dl class="col-sm-4 site-link" id="license">
                <dt>内容许可</dt>
                <dd>除特别说明外，用户内容均采用 <a rel="license" target="_blank"
                                      href="http://creativecommons.org/licenses/by-sa/3.0/cn/">知识共享署名-相同方式共享 3.0
                    中国大陆许可协议</a> 进行许可
                </dd>
                <dd>本站由 <a target="_blank" href="http://qingcloud.com/">青云 QingCloud</a> 提供云计算服务<br><a target="_blank"
                                                                                                       href="https://www.upyun.com/?utm_source=segmentfault&utm_medium=link&utm_campaign=upyun&md=segmentfault">又拍云</a>
                    提供 CDN 存储服务
                </dd>
                <dd>
                    <a key="55e59bd4efbfb0241247d4e4" logo_size="124x47" logo_type="realname"
                       href="http://www.anquan.org">
                        <script src="//static.anquan.org/static/outer/js/aq_auth.js"></script>
                    </a>
                    <!-- Begin DigiCert site seal HTML and JavaScript -->
                    <div id="DigiCertClickID_2bMgZTfe" data-language="en" style="float: left; margin-right: 10px"></div>
                    <script type="text/javascript">
                        var __dcid = __dcid || [];
                        __dcid.push(["DigiCertClickID_2bMgZTfe", "3", "s", "black", "2bMgZTfe"]);
                        (function () {
                            var cid = document.createElement("script");
                            cid.async = true;
                            cid.src = "//seal.digicert.com/seals/cascade/seal.min.js";
                            var s = document.getElementsByTagName("script");
                            var ls = s[(s.length - 1)];
                            ls.parentNode.insertBefore(cid, ls.nextSibling);
                        }());
                    </script>
                    <!-- End DigiCert site seal HTML and JavaScript -->
                </dd>
            </dl>
        </div>
        <div class="copyright">
            Copyright &copy; 2011-2016 SegmentFault. 当前呈现版本 16.01.20<br><a href="http://www.miibeian.gov.cn/"
                                                                           rel="nofollow">浙ICP备15005796号-2</a>
        </div>
        <p class="text-center">
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop"
               href="javascript:;">桌面版</a>
        </p>
    </div>
</footer>

<div id="fixedTools" class="hidden-xs hidden-sm">
    <a id="backtop" class="hidden border-bottom" href="#">回顶部</a>

    <div class="qrcodeWraper">
        <a href="/app#qrcode"><span class="glyphicon glyphicon-qrcode"></span></a>
        <img id="qrcode" class="border" alt="sf-wechat" src="/page/images/app/appQrcode.png">

        <p class="qrcode-text">扫扫下载 App</p>
    </div>
</div>


<div class="app-promotion-bar">
    <a href="javascript:;"><i class="fa fa-close close"></i></a>
    <div class="icon"></div>
    <h5 class="title h5">SegmentFault</h5>
    <p class="describe">一起探索更多未知</p>
    <a class="download-btn btn btn-sm btn-primary" href="/app#qrcode">下载 App</a>
</div>

<script id="loginModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-4 col-sm-12 col-md-push-7 login-wrap">
            <h1 class="h4 text-muted login-title">用户登录</h1>
            <form action="/api/user/login" method="POST" role="form" class="mt30">
                <div class="form-group">
                    <label class="control-label">Email</label>
                    <input type="email" class="form-control" name="mail" required placeholder="hello@segmentfault.com">
                </div>
                <div class="form-group">
                    <label class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="密码">
                </div>
                <div class="form-group clearfix">
                    <div class="checkbox pull-left">
                        <label><input name="remember" type="checkbox" value="1" checked> 记住登录状态</label>
                    </div>
                    <button type="submit" class="btn btn-primary pull-right pl20 pr20">登录</button>
                </div>
            </form>
            <p class="h4 text-muted visible-xs-block h4">快速登录</p>
            <div class="widget-login mt30">
                <p class="text-muted mt5 mr10 pull-left hidden-xs">快速登录</p>
                <a href="/user/oauth/google" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-google"><span
                        class="icon-sn-google"></span> <strong class="visible-xs-inline">Google 账号</strong></a>
                <a href="/user/oauth/github" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-github"><span
                        class="icon-sn-github"></span> <strong class="visible-xs-inline">Github 账号</strong></a>
                <a href="/user/oauth/weibo" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-weibo"><span
                        class="icon-sn-weibo"></span> <strong class="visible-xs-inline">新浪微博账号</strong></a>
                <a href="/user/oauth/qq" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-qq"><span
                        class="icon-sn-qq"></span> <strong class="visible-xs-inline">QQ 账号</strong></a>
                <a href="/user/oauth/weixin" class="btn pl5 pr5 mb5 btn-default btn-sm btn-sn-wechat"><span
                        class="icon-sn-wechat"></span> <strong class="visible-xs-inline">微信账号</strong></a>
                <button type="button" class="btn mb5 btn-default btn-sm btn-sn-more" id="loginShowMore">...</button>
                <a href="/user/oauth/twitter" class="btn pl5 pr5 mb5 btn-default btn-sn-twitter btn-sm hidden"><span
                        class="icon-sn-twitter"></span> <strong class="visible-xs-inline">Twitter 账号</strong></a>
                <a href="/user/oauth/facebook" class="btn pl5 pr5 mb5 btn-default btn-sn-facebook btn-sm hidden"><span
                        class="icon-sn-facebook"></span> <strong class="visible-xs-inline">Facebook 账号</strong></a>
                <a href="/user/oauth/douban" class="btn pl5 pr5 mb5 btn-default btn-sn-douban btn-sm hidden"><span
                        class="icon-sn-douban"></span> <strong class="visible-xs-inline">豆瓣账号</strong></a>
            </div>
        </div>
        <div class="login-vline hidden-xs hidden-sm"></div>
        <div class="col-md-4 col-md-pull-3 col-sm-12 login-wrap">
            <h1 class="h4 text-muted login-title">创建新账号</h1>
            <form action="/api/user/register" method="POST" role="form" class="mt30">
                <div class="form-group">
                    <label for="name" class="control-label">用户名</label>
                    <input type="text" class="form-control" name="name" required placeholder="字母、数字等，用户名唯一">
                </div>
                <div class="form-group">
                    <label for="mail" class="control-label">Email</label>
                    <input type="hidden" style="display:none" name="mail">
                    <input type="email" autocomplete="off" class="form-control register-mail" name="mail" required
                           placeholder="hello@segmentfault.com">
                </div>
                <div class="form-group">
                    <label for="password" class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="不少于 6 位">
                </div>
                <div class="form-group" style="display:none;">
                    <label class="required control-label">验证码</label>
                    <input type="text" class="form-control" id="captcha" name="captcha" placeholder="请输入下方的验证码">
                    <div class="mt10"><a id="loginReloadCaptcha" href="javascript:void(0)"><img
                            data-src="/user/captcha?w=240&h=50" class="captcha" width="240" height="50"/></a></div>
                </div>
                <div class="form-group clearfix">
                    <div class="checkbox pull-left">
                        同意并接受<a href="/tos" target="_blank">《服务条款》</a>
                    </div>
                    <button type="submit" class="btn btn-primary pl20 pr20 pull-right">注册</button>
                </div>
            </form>
        </div>
    </div>
    <div class="text-center text-muted mt30">
        <a href="/user/forgot" class="ml5">找回密码</a>
    </div>
</script>


<script>
    (function (w) {
        w.SF = {
            staticUrl: ""
        };
        w.SF.token = (function () {
            var _gmfiLd = '70b'//'r3i'
                    + '87'//'Fo'
                    + '9'//'ZnD'
                    +//'z'
                    '6' +//'B'
                    '31' + 'b4'//'Do'
                    + 'de'//'9a3'
                    +//'R7'
                    '3' +//'IS'
                    '7fe' + ''///*'3sv'*/'3sv'
                    + '78'//'y'
                    + '1f'//'D9K'
                    + '374'//'wg'
                    + '388'//'aDQ'
                    +//'7e'
                    '7e' +//'Pnr'
                    'f' + 'de'//'OE'
                    +//'D'
                    '5' +//'STM'
                    '7', _53JM = [[27, 29]];

            for (var i = 0; i < _53JM.length; i++) {
                _gmfiLd = _gmfiLd.substring(0, _53JM[i][0]) + _gmfiLd.substring(_53JM[i][1]);
            }

            return _gmfiLd;
        })();
        ;
    })(window);

    var lock = {
        type: "",
        text: '',
        table: {"ban_post": [1, "\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };
</script>

<script crossorigin src="/static/js/assets.js"></script>
<script crossorigin src="/static/js/question.js"></script>


<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');


    ga('create', 'UA-918487-8', 'auto', {'userID': 0, 'createdTime': 0, 'now': 1453820647});
    ga('set', 'dimension1', 'guest');
    ga('send', 'pageview');

</script>

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

<script src="//cbjs.baidu.com/js/m.js"></script>
<script>
    if (typeof BAIDU_CLB_fillSlotAsync === 'function') {
        BAIDU_CLB_fillSlotAsync('981183', 'adid-981183');
        BAIDU_CLB_fillSlotAsync('981184', 'adid-981184');
        BAIDU_CLB_fillSlotAsync('981694', 'adid-981694');
        BAIDU_CLB_fillSlotAsync('981179', 'adid-981179');
        BAIDU_CLB_fillSlotAsync('1119908', 'adid-1119908');
    }
</script>


</body>
</html>
